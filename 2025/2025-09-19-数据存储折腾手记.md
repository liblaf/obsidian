---
date: 2025-09-19T16:00:18+08:00
modified: 2025-09-20T18:38:12+08:00
title: ğŸ’¾ æ•°æ®å­˜å‚¨æŠ˜è…¾æ‰‹è®°
---

å†™ä»£ç ä¸€æ—¶çˆ½, æ•°æ®ç®¡ç†ç«è‘¬åœº. æˆ‘æ˜¯ä»“é¼ , æˆ‘æ—¶å¸¸ä¼šé™·å…¥ä¸€ç§ "æ•°æ®ç„¦è™‘": æˆ‘çš„ä»£ç ã€æˆ‘çš„æ•°æ®é›†ã€æˆ‘çš„å®éªŒç»“æœ... å®ƒä»¬è¿˜å®‰å…¨å—? ğŸ¤¯ ä¸‡ä¸€å“ªå¤©ç¡¬ç›˜æš´æ¯™, æœåŠ¡å™¨è¢«é»‘, æˆ‘ä¼šä¸ä¼šä¸€å¤œå›åˆ°è§£æ”¾å‰?

ä¸ºäº†ç¡ä¸ªå¥½è§‰, æˆ‘æŠ˜è…¾äº†ä¸€äº›æ•°æ®å­˜å‚¨å’Œå¤‡ä»½æ–¹æ¡ˆ. å®ƒä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£, ä½†ç›®å‰è¿˜å‡‘åˆ.

> [!WARNING]
> æœ¬æ–‡å……æ–¥ç€æˆ‘çš„ç›´è§‰, ä¸»è§‚è‡†æ–­å’Œåæ‰§, è¯·è°¨æ…é£Ÿç”¨! å¦‚æœ‰é›·åŒ, é‚£è¯´æ˜æˆ‘å¾ˆæ£’äº†.

## ğŸ“ éœ€æ±‚åˆ†ç±»

æˆ‘çš„æ•°æ®ä½“é‡ä¸ç®—å¤§, è€ƒè™‘åˆ°æœªæ¥çš„å¢é•¿å…ˆæŒ‰ 2TB ç®—.

æˆ‘æŠŠå­˜å‚¨åˆ†ä¸ºä¸‰ç±»:

1. **Daily:** æ—¥å¸¸é¢‘ç¹è¯»å†™çš„å­˜å‚¨
2. **Archive:** åŸºæœ¬ä¸å†™å…¥, ä½†éœ€è¦æ—¶ä¸æ—¶è¯»å–
3. **Backup:** å®šæœŸå†™å…¥, åªåœ¨æ•°æ®ä¸¢å¤±æ—¶æ‰ä¼šåŠ¨ç”¨

è‡³äºä»£ç , å®ƒä»¬æœ‰æœ€å¥½çš„å½’å®¿ --- [GitHub](https://github.com/). æˆ‘ç›¸ä¿¡ GitHub çš„ä¸“ä¸šæ€§å’Œå®‰å…¨æ€§, æ‰€ä»¥æœ¬æ–‡çš„è®¨è®ºä¸åŒ…å«ä»£ç .

## ğŸ· ä¿¡ä»»é„™è§†é“¾

æˆ‘å¯¹å­˜å‚¨çš„å¯é æ€§æœ‰ä¸€å¥—è‡ªå·±çš„ "è¿·ä¿¡" æ’åº, ä»é«˜åˆ°ä½å¤§æ¦‚æ˜¯è¿™æ ·çš„:

**ä¼ä¸šçº§æœåŠ¡ > ä¼ä¸šçº§ç¡¬ä»¶ + æˆ‘è‡ªå·±ç”¨ > æ¶ˆè´¹çº§ç¡¬ä»¶ + æˆ‘è‡ªå·±ç”¨ > ä¼ä¸šçº§ç¡¬ä»¶ + å…¬ç”¨ > æ¶ˆè´¹çº§ç¡¬ä»¶ + å…¬ç”¨**

ç®€å•è¯´å°±æ˜¯: æˆ‘ç›¸ä¿¡å¤§å…¬å¸, ç›¸ä¿¡æˆ‘è‡ªå·±, ä½†ä¸å¤ªæ•¢ç›¸ä¿¡åˆ«äºº (æ¯”å¦‚å…¬ç”¨ç¯å¢ƒ).

å…·ä½“æ¥è¯´:

1. âœ…Â **100% å¯é  (æˆ‘è®¤ä¸º):**
	1. ä¼ä¸šçº§æœåŠ¡, æ¯”å¦‚ OneDrive, æ¸…åäº‘ç›˜. å¾®è½¯å’Œæ¸…å ITS, æˆ‘æ”¾å¿ƒ. å°±æ˜¯å®¹é‡è¿˜ä¸å¤Ÿå¤§.
2. ğŸ‘Â **æ¯”è¾ƒå¯é , åŸºæœ¬ä¸æ‹…å¿ƒ:**
	1. [Microsoft 365 Developer Program](https://developer.microsoft.com/en-us/microsoft-365/dev-program) æä¾›çš„ 5TB OneDrive. è™½ç„¶ç»­æœŸæœ‰å¯èƒ½ç¿»è½¦, ä½†æˆ‘ç›¸ä¿¡å·¨ç¡¬çš„ç¨³å®šæ€§, è€Œä¸”åˆ°æœŸåä»ç•™æœ‰å……è£•çš„æ—¶é—´ç”¨äºè½¬ç§»æ•°æ®.
	2. è‡ªç”¨çš„æ¶ˆè´¹çº§ç¡¬ä»¶, æ¯”å¦‚å¥åº·çš„ SSD, PSSD. æˆ‘ç›¸ä¿¡è‡ªå·±, ä½†ä¹Ÿæ€•å“ªå¤©è„‘å­ä¸€æŠ½è¯¯åˆ ä¸œè¥¿.
	3. å®éªŒå®¤çš„æ•°æ®æœåŠ¡å™¨ (RAID6). RAID6 è¿˜æ˜¯é è°±çš„. è™½ç„¶æƒé™ç®¡ç†æ¯”è¾ƒä¸¥æ ¼, ä½†æˆ‘æ€»æ‹…å¿ƒä¼šä¸ä¼šæœ‰è¯¯æ“ä½œ, æˆ–è€…è¢«æ”»å‡».
3. ğŸš½Â **å…¬å•:**
	1. å®éªŒå®¤çš„è®¡ç®—æœåŠ¡å™¨. æœåŠ¡å™¨çš„ç”¨æˆ·åŒ…æ‹¬åŒå­¦ä»¬ ~~å’ŒåŒ¿åé»‘å®¢~~. å°½ç®¡æˆ‘æ˜¯ç®¡ç†å‘˜, ä½†å…±äº«ç¯å¢ƒçš„å¯é æ€§å–å†³äºæœ€ä¸é è°±çš„é‚£ä¸ªäºº, è€Œä½ æ°¸è¿œä¸çŸ¥é“ä»–æ˜¯è° (ç”šè‡³å¯èƒ½æ˜¯æˆ‘è‡ªå·±).
	2. **ç™¾åº¦ç½‘ç›˜:** What can I say? ğŸ¤·

### ğŸ” 3-2-1 åŸåˆ™

æˆ‘å¬é—»å¤‡ä»½çš„ "3-2-1 åŸåˆ™" (3 ä»½æ‹·è´, 2 ç§ä»‹è´¨, 1 ä»½å¼‚åœ°). ä½†æˆ‘æ˜¯ç©·å­¦ç”Ÿ. ä¸è¿‡è¿™ä¸ªåŸåˆ™ç¡®å®å€¼å¾—å‚è€ƒ.

## ğŸ—‚ æ•°æ®é›†

æˆ‘å¹³æ—¶è¿™æ ·å¤„ç†æ•°æ®é›†:

- **Daily:** ç›´æ¥æ‹·è´åˆ°é¡¹ç›®ç›®å½•ä¸‹, ç®€å•ç²—æš´.
- **Archive:** æˆ‘ä¼šç”¨Â `.tar.zst`Â æ ¼å¼ä»¥æœ€é«˜å‹ç¼©ç‡ç‹ ç‹ å‹ç¼©å®ƒ, ç„¶åæ‰”è¿›æ¸…åäº‘ç›˜. æˆ‘çš„ CPU ç®—åŠ›ä¸å€¼é’±, ä½†äº‘ç›˜ç©ºé—´å¯¸åœŸå¯¸é‡‘, å¿…é¡»ç‹ ç‹ åœ°å‹ç¼©. åŒæ—¶è¿˜ä¼šè®°å½•å‹ç¼©æ–‡ä»¶çš„å“ˆå¸Œå€¼ (æˆ‘åçˆ± blake3) ä»¥å¤‡æ ¡éªŒ.

å› ä¸ºæˆ‘ç›¸ä¿¡æ¸…åäº‘ç›˜, æ‰€ä»¥ä¸å†é¢å¤– **backup**.

## ğŸ”¬ å®éªŒå’Œä¸­é—´ç»“æœ: Git + DVC

è¿™éƒ¨åˆ†æ˜¯æˆ‘çš„å¾—æ„ä¹‹ä½œ, å®ƒè§£å†³äº†å›°æ‰°æˆ‘å¤šå¹´çš„ä»£ç ä¸æ•°æ®ç‰ˆæœ¬åŒæ­¥éš¾é¢˜.

æˆ‘å¼€å‘äº†ä¸€ä¸ªåä¸ºÂ [ğŸ’ Cherries](https://github.com/liblaf/cherries)Â çš„ Python å°å·¥å…·æ¥è‡ªåŠ¨åŒ–è®¸å¤šæµç¨‹. ä¸€æ¬¡å®Œæ•´çš„ "experiment run" å¤§æ¦‚æ˜¯è¿™æ ·:

1. **è¿è¡Œè„šæœ¬:** åƒå¾€å¸¸ä¸€æ ·Â `python src/30-compute.py`. æˆ‘å–œæ¬¢ç”¨æ•°å­—å‰ç¼€æ¥å‘½åè„šæœ¬ (`10-gen.py`,Â `20-preprocess.py`), è¿™æ ·è¿™æ ·æŒ‰æ–‡ä»¶åæ’åº, ä¾èµ–å…³ç³»ä¸€ç›®äº†ç„¶.
2. **Inputs:** åœ¨å®éªŒå¼€å§‹å‰, Cherries è‡ªåŠ¨è°ƒç”¨ `dvc add [inputs]`, å¹¶å¯ç”¨ [Comet](https://www.comet.com/site/) è¿›è¡Œ experiment tracking
3. **Tracking:** ä»£ç è¿è¡Œæ—¶, Comet ä¼šè®°å½• `stdout` å’Œ `stderr`, æ–¹ä¾¿åœ¨ç½‘é¡µç«¯æŸ¥çœ‹
4. **Outputs:** è·‘å®Œå, Cherries å†æ¬¡è°ƒç”¨ `dvc add [outputs]`
5. **Git Commit:** è‡ªåŠ¨ç”Ÿæˆ git commit, message ä¸­åŒ…å«è¿è¡Œå‚æ•°, inputs + outputs è·¯å¾„å’Œ Comet URL ç­‰ metadata. ç”±äº DVC çš„å­˜åœ¨, è¿™æ¬¡ commit å®é™…ä¸Šå·²ç»é”å®šäº†æœ¬æ¬¡å®éªŒçš„å®Œæ•´è¾“å…¥ã€è¾“å‡ºå’Œä»£ç ç‰ˆæœ¬.
6. **Local Snapshots:** Cherries ä¼šæŠŠ source code, inputs, outputs, `run.log` éƒ½æ‹·è´ä¸€ä»½åˆ°æœ¬åœ°çš„ `.cherries/` ç›®å½•ä¸‹, æ–¹ä¾¿å¿«é€Ÿå¯¹æ¯”è¿‘å‡ æ¬¡å®éªŒçš„å¼‚åŒ.

è¿™æ ·ä¸‹æ¥:

- **ä»£ç ä¸æ•°æ®å­˜å‚¨åˆ†ç¦»:** ä»£ç  push åˆ° GitHub, è€Œæ•°æ®é€šè¿‡ DVC push åˆ°æˆ‘è‡ªå·±çš„å­˜å‚¨åç«¯. æˆ‘å¯ä»¥å…¬å¼€ä»£ç , åŒæ—¶å°†æ•°æ®ä¿å¯†. é™¤éæœ‰å¤–æ˜Ÿç§‘æŠ€èƒ½ä» DVC çš„ MD5 æŒ‡é’ˆæ¢å¤åŸæ–‡ä»¶ ğŸ˜‰
- **ç‰ˆæœ¬æ§åˆ¶:**Â `git checkout`Â åˆ°ä»»ä½•ä¸€ä¸ªå†å² commit, DVC å°±ä¼šè‡ªåŠ¨æ‹‰å–å¯¹åº”ç‰ˆæœ¬çš„æ•°æ®, å¤ç°å½“æ—¶çš„å·¥ä½œåŒº.
- **è‡ªåŠ¨åŒ–:** ç»“åˆÂ pre-commitÂ hooks, git pushÂ æ—¶ DVC ä¼šè‡ªåŠ¨ä¸Šä¼ æ•°æ®, git pullÂ æˆ–Â checkoutÂ æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½, å…¨ç¨‹æ— æ„Ÿ.

æˆ‘é€‰ç”¨Â [SSH](https://dvc.org/doc/user-guide/data-management/remote-storage/ssh) ä½œä¸º DVC è¿œç¨‹å­˜å‚¨, æ•°æ®å­˜åœ¨æˆ‘è‡ªå·±çš„ PC ä¸Š. ç¾ä¸­ä¸è¶³çš„æ˜¯, DVC ç›®å‰è¿˜ä¸æ”¯æŒå‹ç¼©. ä¸ºäº†ä¿é™©èµ·è§ï¼Œæˆ‘è¿˜ä¼šç”¨Â [Restic Profile](https://creativeprojects.github.io/resticprofile/index.html)Â å®šæ—¶å¤‡ä»½æ•°æ®åˆ°æ¸…åäº‘ç›˜. [Restic](https://restic.readthedocs.io/en/stable/) çœŸå¿ƒå¥½ç”¨: snapshots åˆ›å»ºå’Œæ¸…ç†éƒ½å¾ˆæ–¹ä¾¿, æ”¯æŒå—çº§å»é‡å’Œå‹ç¼©. æˆ‘ç”šè‡³æ¯å°æ—¶åšä¸€æ¬¡å¿«ç…§. åæ­£æˆ‘çš„ CPU ç®—ç†ä¸å€¼é’±, ä½†äº‘ç›˜ç©ºé—´å¯¸åœŸå¯¸é‡‘, å¿…é¡»ç‹ ç‹ åœ°å‹ç¼©.

### â“ Why not Git LFS?

Git LFS å…¶å®æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©, ä½†æˆ‘æœ€ç»ˆæ²¡é€‰å®ƒ, åŸå› æœ‰äºŒ:

1. **å¯¹æ–‡ä»¶å¤¹æ”¯æŒä¸ä¼˜é›…:** å¦‚æœæœ‰ä¸€ä¸ªåŒ…å« 1000 å¸§çš„åŠ¨ç”»æ–‡ä»¶å¤¹, Git LFS ä¼šç”Ÿæˆ 1000 ä¸ª pointer, è€Œ DVC åªéœ€è¦ä¸€ä¸ª `.dvc` æ–‡ä»¶.
2. **éœ€è¦ self-host service:** GitHub é‚£ç‚¹å…è´¹é¢åº¦, åˆ†åˆ†é’Ÿå°±ç”¨å…‰äº†. Gitea ç”¨ docker compose èµ·èµ·æ¥æ˜¯æŒºæ–¹ä¾¿çš„, å‡ åˆ†é’Ÿå°±èƒ½ä¸Šçº¿ä½¿ç”¨. ä½†é¢å¤–ç»´æŠ¤ä¸€ä¸ªæœåŠ¡ä¹Ÿæ˜¯è¦èŠ±æ—¶é—´çš„. è€Œ DVC å¯ä»¥ä¾èµ–äº SSH / WebDAV å­˜å‚¨, æˆ‘æœ¬å°±éœ€è¦ SSH å’Œ WebDAV, æ‰€ä»¥æ²¡æœ‰é¢å¤–çš„è´Ÿæ‹….

## ğŸ’¾ Filesystem

æˆ‘å‚è€ƒäº† [Filesystems | CachyOS](https://wiki.cachyos.org/installation/filesystem/) å’Œ [File systems - ArchWiki](https://wiki.archlinux.org/title/File_systems), æœ€ç»ˆé€‰æ‹©äº† **Btrfs**.

### Why Btrfs?

æˆ‘å°¤å…¶å–œæ¬¢ä»¥ä¸‹è¿™ä¸¤ä¸ªåŠŸèƒ½:

#### âœ… Pros

- **Transparent compression.** BTRFS supports transparently compressing files to allow for significant space savings with no user intervention.
- **Snapshot functionality.** BTRFS leverages its COW nature to allow for the creation of snapshots of subvolumes that take up very little actual space.

Btrfs çš„ snapshot éå¸¸å¥½ç”¨, é…åˆ [snap-pac](https://github.com/wesbarnett/snap-pac) å¯ä»¥ to perform a pre and post snapshot before and after pacman transactions. ä¸ [Limine-Snapper-Sync](https://gitlab.com/Zesko/limine-snapper-sync) é…åˆå¯ä»¥ç›´æ¥åœ¨ Limine boot manager ç•Œé¢ç›´æ¥ä» snapshot å¯åŠ¨.

#### âŒ Cons

- Worse on rotational drives due to aforementioned fragmentation.

ç›®å‰æˆ‘çš„æ‰€æœ‰ç¡¬ç›˜éƒ½æ˜¯ SSD, æ‰€ä»¥ Btrfs çš„ fragmentation é—®é¢˜å¯¹æˆ‘å½±å“ä¸å¤§. å¦å¤–å¬è¯´ Btrfs çš„ RAID æ”¯æŒæœ‰ç‚¹é—®é¢˜, ä½†æˆ‘åŸºæœ¬ä¸Šæ¯å°æœºå™¨åªæœ‰ä¸€å—ç›˜, ç”¨ä¸ä¸Š RAID.

### ğŸ¤” Why not ...?

#### Why not ext4?

EXT4 (fourth extended filesystem) is the most commonly used Linux filesystem.

##### âŒ Cons

- Lacks many of the advanced features other filesystems offer.

ext4 ä¹…ç»å†å²è€ƒéªŒ. ä½† ext4 ä¸æ”¯æŒ transparent compression å’Œ snapshot. ä¹Ÿè®¸æˆ‘æœ‰äº† HDD ä¼šç”¨ ext4, æ¯•ç«Ÿ HDD ä¸å¤§å¯èƒ½ä¼šæ‹¿æ¥åšç³»ç»Ÿç›˜, æ›´å¯èƒ½æ˜¯æ•°æ®ç›˜, è¿™æ—¶ snapshot functionality å°±æ²¡é‚£ä¹ˆé‡è¦äº†.

#### Why not ZFS?

ZFS is an advanced filesystem originally developed by Sun Microsystems in 2005. ZFS has many features, but is licensed under CDDL which means it cannot be included inside the linux kernel and requires a separate module installed.

##### âœ… Pros

- Pooled storage (zpool)
- Snapshots using COW
- Compression
- Raid-Z support
- ARC cache allows insanely fast read times on commonly accessed files.

ZFS ç®€ç›´å¤ªå¼ºå¤§äº†, æ‹¥æœ‰æˆ‘æ¢¦æƒ³çš„æ‰€æœ‰åŠŸèƒ½.

##### âŒ Cons

- Very complicated to use and understand due to features like zpool and ARC.
- ARC requires a lot of ram to be effective.
- Not included in the linux kernel therefore dependent on a third party kernel module (OpenZFS)

ä½† ZFS é…ç½®æœ‰äº›å¤æ‚, è¿˜æœ‰ license é—®é¢˜. è™½ç„¶å°è¯•é…ç½®æˆåŠŸäº†, ä½†è¿˜æ˜¯å®³æ€•ç»´æŠ¤æˆæœ¬æ‰€ä»¥æ”¾å¼ƒäº†.
